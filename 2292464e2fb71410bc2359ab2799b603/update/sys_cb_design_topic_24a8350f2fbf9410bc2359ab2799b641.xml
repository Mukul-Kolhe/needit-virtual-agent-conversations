<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="View Open NeedIt Records">a8a8350f2fbf9410bc2359ab2799b63e</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"466be4a85c3844bb81bec9d54a5e8dfe","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":"true"},"id":"466be4a85c3844bb81bec9d54a5e8dfe"}],"goals":[{"name":"primary","trigger_id":"466be4a85c3844bb81bec9d54a5e8dfe","nodes":[{"type":"StartGoal","goal_id":"primary","greeting_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\" I can help you find and update NeedIt records for a type of request.\", vaContext.getRequesterLang())"},"id":"d497a49dc8b74a209aab8eb052cdfb7c","name":"Start"},{"type":"TerminateGoal","goal_id":"primary","confirmation_msg":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Ask again when you need to update other NeedIt records.\", vaContext.getRequesterLang())"},"id":"1b0c89fcdc2f4dfd9c3ee373d6b31007","name":"End"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"41b4ce9d92574ed898eb7bc8364e34ff","name":"NeedIt Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"d4ca02107bdd41dca2d1080857eeb34c","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Which type of NeedIt record you like to view?\", vaContext.getRequesterLang())"},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true}},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"gs.getMessageLang(\"You Selected: \", vaContext.getRequesterLang())"},"id":"7ecd955f93c0497284d9579591780539","name":"Confirm NeedIt Type","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"ReferenceChoiceInputPrompt","mode":"external","id":"67979abe38b54aa89e1fb656852cd6c0","name":"NeedIt List","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"variable_id":"d237e68dace4424bbced10c66f2354a8","message":{"type":"String","mode":"string","value":"Select a NeedIt record to view."},"skippable":{"type":"Applicability","mode":"script","value":"false"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"expression_mode":"script","script":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n\n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n    var options = [];\n\n   var grNI = new GlideRecord(table);\n   grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n   grNI.addQuery('active','true');\n   grNI.addQuery('u_requestd_for','vaInputs.user');\n   grNI.addQuery('u_when_needed');\n   grNI.query();\n\n//short_description values for the needIt record.\n   while (grNI.next()) {\n       option.push({ 'value' : grNI.getUniqueValue(), 'label': grNI.getValue('number')+ \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description')});\n\n   }\n   return options;\n})(table)\n\n\n","no_options_found_message":{"type":"String","mode":"string","value":"You have no open NeedIt records."},"condition":{"type":"Condition","mode":"glide_scripted_query","value":"(function execute(table) {\n    /* Code your GlideRecord query logic here. For example:\n\n        var options = [];\n        var gr = new GlideRecord(table);\n        gr.addEncodedQuery('active=true^numberSTARTSWITHINC001001');\n        gr.setLimit(10);\n        gr.query();\n        while(gr.next()) {\n            options.push({ 'value': gr.getUniqueValue(), 'label': gr.getValue('short_description') });\n        }\n        return options;\n    */\n    var options = [];\n\n   var grNI = new GlideRecord(table);\n   grNI.addQuery('u_request_type',vaInputs.needit_type.getValue());\n   grNI.addQuery('active','true');\n   grNI.addQuery('u_requestd_for','vaInputs.user');\n   grNI.addQuery('u_when_needed');\n   grNI.query();\n\n//short_description values for the needIt record.\n   while (grNI.next()) {\n       option.push({ 'value' : grNI.getUniqueValue(), 'label': grNI.getValue('number')+ \" (\" + grNI.getDisplayValue('u_when_needed') + \"): \" + grNI.getValue('short_description')});\n\n   }\n   return options;\n})(table)\n\n\n"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"d237e68dace4424bbced10c66f2354a8","fields":["priority","short_description","u_when_needed"],"id":"a3b412ef72154e2f84bdb876d4b0127e","name":"NeedIt Card","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}},{"type":"InputPrompt","variable_id":"90677f6052a242c79a80381cda2586e6","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"Would you like to view another NeedIt Record?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"a0ff7dc5936042949b97e9c76579e934","name":"Search Again","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"Decision","name":"DecisionFind more NeedIt records?","branches":[{"type":"Branch","label":"No","expression":{"type":"Applicability","mode":"query","value":"search_again="},"id":"1739c2341d874e85ab2778c28900558e","name":"No"},{"type":"Branch","label":"Yes","expression":{"type":"Applicability","mode":"query","value":"search_again=true"},"id":"ccf3ed70f38d4c8895fc09bb31ba2f60","name":"Yes"}],"id":"41baa46fc93c48749f51046b9d4fce8b","goal_id":"primary"},{"type":"TerminateGoal","goal_id":"primary","id":"ce71a178d00e413cad56a2026497f406","name":"ImplicitEnd__e81a5863312e4228bb879f542f0be4e4"},{"type":"InputPrompt","variable_id":"e64af993144e4b25b74310726a10696a","message":{"type":"String","mode":"string","value":"gs.getMessageLang(\"When do you need the NeedIt completed?\", vaContext.getRequesterLang())"},"nlu_entity_binding":{"type":"NLUEntityBinding","allow_text_input":false,"use_confirmation_prompt":true},"skippable":{"type":"Applicability","mode":"script","value":"false"},"id":"ac08da8820ea4dbbbf254cd5181076bf","name":"New When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"CRUDAction","mode":"update","query":"u_when_needed=","variable_id":"d237e68dace4424bbced10c66f2354a8","id":"f1f515c1a1da4b60867887c6f7a33ef8","name":"Change When Needed Date","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"}},{"type":"RecordOutputPrompt","mode":"variable","table":"x_58872_needit_needit","variable_id":"d237e68dace4424bbced10c66f2354a8","fields":["u_requested_for"],"id":"97e666b322944385b533941293a3904d","name":"Updated NeedIt","goal_id":"primary","applicability":{"type":"Applicability","mode":"script","value":"true"},"condition":{"type":"Condition","mode":"","value":""}}],"edges":[{"type":"Edge","source_node_id":"d497a49dc8b74a209aab8eb052cdfb7c","target_node_id":"41b4ce9d92574ed898eb7bc8364e34ff","id":"a2a477d0ae5e44188ce1c2910b701044"},{"type":"Edge","source_node_id":"41b4ce9d92574ed898eb7bc8364e34ff","target_node_id":"7ecd955f93c0497284d9579591780539","id":"2a5455adb71c49cf88d968f68af92154"},{"type":"Edge","source_node_id":"7ecd955f93c0497284d9579591780539","target_node_id":"67979abe38b54aa89e1fb656852cd6c0","id":"9b417c01145b47d2ab800fc96a5ca8d8"},{"type":"Edge","source_node_id":"67979abe38b54aa89e1fb656852cd6c0","target_node_id":"a3b412ef72154e2f84bdb876d4b0127e","id":"01eceebbc178429f8743128ea60fbb19"},{"type":"Edge","source_node_id":"a0ff7dc5936042949b97e9c76579e934","target_node_id":"41baa46fc93c48749f51046b9d4fce8b","id":"3edc37943e524ca99e90fe0c2d33f7c8"},{"type":"Edge","source_node_id":"41baa46fc93c48749f51046b9d4fce8b","target_node_id":"1b0c89fcdc2f4dfd9c3ee373d6b31007","branch_id":"1739c2341d874e85ab2778c28900558e","id":"5dc6a67628eb43c2b1c67bbd20a190e0","name":"1739c2341d874e85ab2778c28900558e"},{"type":"Edge","source_node_id":"41baa46fc93c48749f51046b9d4fce8b","target_node_id":"ce71a178d00e413cad56a2026497f406","branch_id":"ccf3ed70f38d4c8895fc09bb31ba2f60","id":"82a7e156df67440591dd0c1f51534ebd","name":"ccf3ed70f38d4c8895fc09bb31ba2f60"},{"type":"Edge","source_node_id":"a3b412ef72154e2f84bdb876d4b0127e","target_node_id":"ac08da8820ea4dbbbf254cd5181076bf","id":"d878b952a2a445f5b9e5735acb4b3600"},{"type":"Edge","source_node_id":"ac08da8820ea4dbbbf254cd5181076bf","target_node_id":"f1f515c1a1da4b60867887c6f7a33ef8","id":"9c711fc5283a4b4499ecce191407a416"},{"type":"Edge","source_node_id":"f1f515c1a1da4b60867887c6f7a33ef8","target_node_id":"97e666b322944385b533941293a3904d","id":"a5800613804e4a349f10e2f082fd480a"},{"type":"Edge","source_node_id":"97e666b322944385b533941293a3904d","target_node_id":"a0ff7dc5936042949b97e9c76579e934","id":"2a7601e6ab8147a9a504ce7110d720d6"}],"id":"primary"}],"script_variables":[{"type":"String","name":"LiveAgent_application","value":{"type":"String","mode":"string"},"id":"52a8df2d71854088bbaa54c450a4202a","formatType":"text"}],"glide_variables":[{"type":"Reference","table":"sys_user","id":"current-user","name":"user","formatType":"text"},{"type":"Choice","choices":[{"name":"Legal","element":"legal"},{"name":"Facilities","element":"facilities"},{"name":"Human Resources","element":"hr"}],"id":"d4ca02107bdd41dca2d1080857eeb34c","name":"needit_type","formatType":"text"},{"type":"Reference","table":"x_58872_needit_needit","id":"d237e68dace4424bbced10c66f2354a8","name":"needit_list","formatType":"text"},{"type":"True/False","id":"90677f6052a242c79a80381cda2586e6","name":"search_again","formatType":"text"},{"type":"Date/Time","mode":"date","id":"e64af993144e4b25b74310726a10696a","name":"new_when_needed_date","formatType":"text"},{"type":"Reference","table":"","id":"4489ad68af8445cf8ab1cc66e66712a6","name":"change_when_needed_date","formatType":"text"}],"applicability":{"type":"Applicability","mode":"script","value":"true"},"roles":[],"scope":"2292464e2fb71410bc2359ab2799b603","domain":"global","topic_type":"STANDARD","channels":[],"id":"f0048ace2fb71410bc2359ab2799b639","name":"_PRVW__58a8350fe4bf94102b66639f058e403d","key_phrases":["View Open NeedIt Records","NeedIt Request","need something"],"nlu_provider":"","nlu_model":"","nlu_model_label":"","nlu_intent":"","nlu_intent_label":"","flexible_conversation_switching":false,"design_category":"","library":false,"nluMapping":"[]"}</design_definition>
        <design_topic_id>f0048ace2fb71410bc2359ab2799b639</design_topic_id>
        <name>_PRVW__58a8350fe4bf94102b66639f058e403d</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2020-10-16 09:33:54</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>24a8350f2fbf9410bc2359ab2799b641</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value=" NeedIt Virtual Agent Conversations" source="x_536173_needit_vi">2292464e2fb71410bc2359ab2799b603</sys_package>
        <sys_policy/>
        <sys_scope display_value=" NeedIt Virtual Agent Conversations">2292464e2fb71410bc2359ab2799b603</sys_scope>
        <sys_update_name>sys_cb_design_topic_24a8350f2fbf9410bc2359ab2799b641</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2020-10-16 09:33:54</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
